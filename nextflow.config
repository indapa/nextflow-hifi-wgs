process {
    
    executor = 'local'
    // Default settings for all processes
    memory = '16GB'
    
    withLabel: 'high_memory' {
        memory = '64GB'
        
    }
    
}





params {
    resources_dir = '/workspaces/nextflow/resources'
    samplesheet_dir = '/workspaces/nextflow/Samplesheets'
    samplesheet= "${samplesheet_dir}/samplesheet.csv"
    
    reference = "s3://pacbio-hifi-human-wgs-reference/dataset/hifi-wdl-resources-v2.0.0/GRCh38/human_GRCh38_no_alt_analysis_set.fasta"
    reference_index = "${reference}.fai"

    pigeon_gtf="/workspaces/nextflow/pigeon-resources/gencode.v39.annotation.sorted.gtf.gz"
    pigeon_tbi="/workspaces/nextflow/pigeon-resources/gencode.v39.annotation.sorted.gtf.gz.tbi"
    
    cpgmodel = "/workspaces/nextflow/pb_cpg_models/pileup_calling_model.v1.tflite"
    
    exclude_bed = "s3://pacbio-hifi-human-wgs-reference/dataset/hifi-wdl-resources-v2.0.0/GRCh38/hificnv/cnv.excluded_regions.common_50.hg38.bed.gz"
    expected_bed = "s3://pacbio-hifi-human-wgs-reference/dataset/hifi-wdl-resources-v2.0.0/GRCh38/hificnv/expected_cn.hg38.XX.bed"
    trgt_repeats = "s3://pacbio-hifi-human-wgs-reference/dataset/hifi-wdl-resources-v2.0.0/GRCh38/trgt/human_GRCh38_no_alt_analysis_set.trgt.v0.3.4.bed"
    trf_bed = "s3://pacbio-hifi-human-wgs-reference/dataset/hifi-wdl-resources-v2.0.0/GRCh38/human_GRCh38_no_alt_analysis_set.trf.bed"

    output_dir= "s3://hypadata195085494707aes256uw2/p/o/b9630c9edfae42f491508ab0eec1a335/StanfordPacBio/"
    aligned_output_dir = "s3://hypadata195085494707aes256uw2/p/o/b9630c9edfae42f491508ab0eec1a335/StanfordPacBio/"
    bam_stats_output_dir =  "s3://hypadata195085494707aes256uw2/p/o/b9630c9edfae42f491508ab0eec1a335/StanfordPacBio/"
    deepvariant_output_dir = "s3://hypadata195085494707aes256uw2/p/o/b9630c9edfae42f491508ab0eec1a335/StanfordPacBio/"
    hiphase_output_dir = "s3://hypadata195085494707aes256uw2/p/o/b9630c9edfae42f491508ab0eec1a335/StanfordPacBio/"
    
    
    
    
    cpu = 14
    sort_threads = 2

    deepvariant_threads=16


}


docker.enabled = true
wave.enabled = true

tower {
  accessToken = "eyJ0aWQiOiAxMzI3MH0uNzBmYmUyNWU3NjZmNTNjMjRiZTJmYTU3MTgwODc0NTllNzBlY2YzOA=="
}

